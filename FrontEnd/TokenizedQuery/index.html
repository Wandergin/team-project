<!DOCTYPE html>
<html>
<head>
    <!--       metas        -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <!--        end         -->

    <!-- jQuery + Bootstrap -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="BasicExample/js/jqueryui.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!--        end         -->

    <!-- selectize js files -->
    <script src="BasicExample/dist/js/standalone/selectize.js"></script>
    <script src="BasicExample/js/index.js"></script>
    <!--        end         -->


    <!-- selectize css files-->
    <link rel="stylesheet" href="BasicExample/css/normalize.css">
<!--     <link rel="stylesheet" href="BasicExample/css/stylesheet.css"> -->
    <!--        end         -->

    <!--     custom css     -->
    <link rel="stylesheet" href="style.css">
    <!--        end         -->       

    <title>ResDiary Tokenizable Search</title>

</head>
<body>
    <div class="container">
        <div id="query">
            <h3>Reserve your next table with ResDiary</h3>
            <div class="control-group">
                <input type="text" id="input-tags" value="Chinese,restaurant" class="input-tags demo-default" placeholder="City, postcode or restaurant name">
            </div>
        </div>  
    </div>
</body>
<script>
    $(document).ready(function(){
        $('.input-tags').selectize({
            // plugins: ['remove_button'],
            persist: false,
            create: true,
            render: {
                item: function(data, escape) {
                    return '<div class="dropdown"><button class="clickable btn btn-primary dropdown-toggle" data-toggle="dropdown" id="menu1" type="button" data-toggle="dropdown">"' + escape(data.text) + '"</div></div>';
                }
            }
        });

        $(".clickable").click(function(e){ 
            e.preventDefault();
            $('.dropdown').on('show.bs.dropdown', function(){
                alert('The dropdown is about to be shown.');
            });
            $(this).append('<ul class="dropdown-menu" role="menu" aria-labelledby="menu1"></ul>');
                $(".dropdown-menu").append('<li role="presentation"><a role="menuitem" tabindex="-1" href="#">HTML</a></li>');
                $(".dropdown-menu").append('<li role="presentation"><a role="menuitem" tabindex="-1" href="#">CSS</a></li>');
            console.log(this);
            
        });
        
        $("#input-tags").selectize({
            options: [
                {id: 'chinese', token: 'cuisine', text: 'Chinese'},
                {id: 'indian', token: 'cuisine', text: 'Indian'},
                {id: 'thai', token: 'cuisine', text: 'Thai'},
                {id: 'italian', token: 'cuisine', text: 'Italian'},
                {id: 'japanese', token: 'cuisine', text: 'Japanese'},
                {id: 'hungarian', token: 'cuisine', text: 'Hungarian'},
                {id: 'finnish', token: 'cuisine', text: 'Finnish'},
                {id: 'american', token: 'cuisine', text: 'American'},
                
                {id: 'glasgow', token: 'location', text: 'Glasgow'},
                {id: 'edinburgh', token: 'location', text: 'Edinburgh'},
                {id: 'within 10km', token: 'location', text: 'Within 10km'},
                {id: 'nearby', token: 'location', text: 'Nearby'},
                {id: 'george square', token: 'location', text: 'George Square'},
                
                {id: 'tonight', token: 'time', text: 'Tonight'},
                {id: '8pm', token: 'time', text: '8pm'},
                {id: 'friday', token: 'time', text: 'Friday'},
                {id: 'this Saturday', token: 'time', text: 'This Saturday'},
                {id: 'next week', token: 'time', text: 'Next week'},
            ],
            optgroups: [
                {$order: 3, id: 'time', name: 'Time'},
                {$order: 2, id: 'location', name: 'Location'},
                {$order: 1, id: 'cuisine', name: 'Cuisine'}
            ],
            labelField: 'text',
            valueField: 'id',
            optgroupField: 'token',
            optgroupLabelField: 'name',
            optgroupValueField: 'id',
            lockOptgroupOrder: true,
            searchField: ['text'],
            plugins: ['optgroup_columns'],
            openOnFocus: true
        });
    });


</script>


</html>
</body>
</html>
